<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0040)http://www.abtirsi.com/warchestCalc.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Warchest Calculator</title>
 
<style type="text/css">
html { background: #ccc; font: 12px/14px Arial, Helvetica, sans-serif; }
.container { width: 300px; margin: 50px auto; border: 2px solid #888; background: #fff; padding: 20px; }
</style>
 
<script>
function CalcWarchest(infra, warchestcurrent, rulername) {

	if (infra == "") {

		return true;

	}

	var standard = 20;

	var infra = infra.replace(/\$|\,/g,'');

	var infra = parseFloat(infra);
	
	var rulername = rulername.replace(/\$|\,/g,'');

	var warchestcurrent = warchestcurrent.replace(/\$|\,/g,'');

	var warchestcurrent = parseFloat(warchestcurrent);

	var cost = 0.04;

	if(infra >= 8000) { cost = 0.1750; }
	else if(infra >= 5000) { cost = 0.1725; }
	else if(infra >= 4000) { cost = 0.17; }
	else if(infra >= 3000) { cost = 0.15; }
	else if(infra >= 2000) { cost = 0.13; }
	else if(infra >= 1000) { cost = 0.11; }
	else if(infra >= 700) { cost = 0.09; }
	else if(infra >= 500) { cost = 0.08; }
	else if(infra >= 300) { cost = 0.07; }
	else if(infra >= 200) { cost = 0.06; }
	else if(infra >= 100) { cost = 0.05; }

	var days = standard * 3;

	if (infra >= 2000) { days = standard * 4; }
	if (infra >= 4000) { days = standard * 5; }
	if (infra >= 8000) { days = standard * 6; }

	var adjInfra = infra + 20;

	num = parseFloat(infra) * parseFloat(cost) * parseFloat(adjInfra) * parseInt(days);

	if(document.getElementById('nukes').checked == true) {
		num += 600000 * days;
	}

	if(document.getElementById('navy').checked == true) {
		num += (infra * 200) * days;
	}

	if(document.getElementById('wrc').checked == true) {
		num = num * 1.3;
	}

	if(isNaN(num)) {
		ns = "0";
	}

	sign = (num == (num = Math.abs(num)));

	expectednum = num;
	
	currentnum = parseFloat(warchestcurrent);
	
	num = Math.floor(num*100+0.50000000001);

	cents = num%100;

	num = Math.floor(num/100).toString();

	if(cents<10) {
		cents = "0" + cents;
	}

	for (var i = 0; i < Math.floor((num.length-(1+i))/3); i++) {
		num = num.substring(0,num.length-(4*i+3))+','+
		num.substring(num.length-(4*i+3));
	}

	
	if(currentnum/expectednum >= 1.8) {
		document.getElementById("warchest").innerHTML = "<br />Your Warchest Should Be: <h3>" + (((sign)?'':'-') + '$' + num + '.' + cents) + "</h3>Current Warchest: <h3>Excellent</h3>";
	}
	else if(currentnum/expectednum >= 1.4) {
		document.getElementById("warchest").innerHTML = "<br />Your Warchest Should Be: <h3>" + (((sign)?'':'-') + '$' + num + '.' + cents) + "</h3>Current Warchest: <h3>Very Good</h3>";
	}
	else if(currentnum/expectednum >= 1.1) {
		document.getElementById("warchest").innerHTML = "<br />Your Warchest Should Be: <h3>" + (((sign)?'':'-') + '$' + num + '.' + cents) + "</h3>Current Warchest: <h3>Good</h3>";
	}
	else if(currentnum/expectednum >= 0.9) {
		document.getElementById("warchest").innerHTML = "<br />Your Warchest Should Be: <h3>" + (((sign)?'':'-') + '$' + num + '.' + cents) + "</h3>Current Warchest: <h3>Standard</h3>";
	}
	else if(currentnum/expectednum >= 0.6) {
		document.getElementById("warchest").innerHTML = "<br />Your Warchest Should Be: <h3>" + (((sign)?'':'-') + '$' + num + '.' + cents) + "</h3>Current Warchest: <h3>Weak</h3>";
	}
	else if(currentnum/expectednum >= 0.2) {
		document.getElementById("warchest").innerHTML = "<br />Your Warchest Should Be: <h3>" + (((sign)?'':'-') + '$' + num + '.' + cents) + "</h3>Current Warchest: <h3>Very Weak</h3>";
	}
	else if(currentnum/expectednum < 0.2 && currentnum/expectednum > 0){
		document.getElementById("warchest").innerHTML = "<br />Your Warchest Should Be: <h3>" + (((sign)?'':'-') + '$' + num + '.' + cents) + "</h3>Current Warchest: <h3>Critical</h3><br><input type=\"button\" onclick=\"location.href='https://google.com';\" value=\"Go to Google\" />";
	}
	else{
		document.getElementById("warchest").innerHTML = "<br />Your Warchest Should Be: <h3>" + (((sign)?'':'-') + '$' + num + '.' + cents) + "</h3>Current Warchest: <h3>Unknown</h3>You won't see a rating if Current Warchest is blank";
	}
}
</script>
 
</head>

<body>
 <div class="container">
  <h3>Warchest Calculator</h3>
  <table>
  <tr>
    <td>Your Ruler Name:</td>
    <td><input type="text" class="inputRulername" id="rulername" name="rulername" value="Not Nation Name!" onkeyup="CalcWarchest(infra.value, warchestcurrent.value, this.value);"></td>
  </tr>
  <tr>
    <td>Your Infra Level:</th>
    <td><input type="text" class="inputInfra" id="infra" name="infra" onkeyup="CalcWarchest(this.value, warchestcurrent.value, rulername.value);"></th>
  </tr>
  <tr>
    <td>Current Warchest:</td>
    <td><input type="text" class="inputWarchestcurrent" id="warchestcurrent" name="warchestcurrent" value="0" onkeyup="CalcWarchest(infra.value, this.value, rulername.value);"></td>
  </tr>
</table>
  <input type="checkbox" id="nukes" name="nukes" onchange="CalcWarchest(document.getElementById(&#39;infra&#39;).value, document.getElementById(&#39;warchestcurrent&#39;).value, document.getElementById(&#39;rulername&#39;).value)">
    <label for="nukes">Nukes</label>
    <input type="checkbox" id="navy" name="navy" onchange="CalcWarchest(document.getElementById(&#39;infra&#39;).value, document.getElementById(&#39;warchestcurrent&#39;).value, document.getElementById(&#39;rulername&#39;).value)">
    <label for="navy">Navy</label>
    <input type="checkbox" id="wrc" name="wrc" onchange="CalcWarchest(document.getElementById(&#39;infra&#39;).value, document.getElementById(&#39;warchestcurrent&#39;).value, document.getElementById(&#39;rulername&#39;).value)">
    <label for="wrc">WRC</label>
  <div id="warchest"></div>
  <div id="debug"></div>
 </div>
 
 
 
  

</body></html>
